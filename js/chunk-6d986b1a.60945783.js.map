{"version":3,"sources":["webpack:///./src/views/loginAccount.vue?8030","webpack:///./src/utils/nativeAlert.js","webpack:///./src/views/loginAccount.vue?ad07","webpack:///src/views/loginAccount.vue","webpack:///./src/views/loginAccount.vue?f941","webpack:///./src/views/loginAccount.vue","webpack:///./node_modules/electron/index.js"],"names":["nativeAlert","process","IS_ELECTRON","require","dialog","remote","message","options","type","detail","showMessageBoxSync","alert","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","$t","directives","name","rawName","value","mode","expression","class","active","inputFocus","attrs","domProps","on","$event","indexOf","_k","keyCode","key","login","target","composing","countryCode","phoneNumber","email","password","processing","isElectron","staticRenderFns","data","smsCode","computed","created","$route","query","methods","validatePhone","validateEmail","countrycode","replace","phone","md5_password","handleLoginResponse","code","updateData","$store","dispatch","then","component","path","pathFile","join","__dirname","getElectronPath","fs","existsSync","executablePath","readFileSync","ELECTRON_OVERRIDE_DIST_PATH","Error","module","exports"],"mappings":"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","file":"js/chunk-6d986b1a.60945783.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginAccount.vue?vue&type=style&index=0&id=69670749&lang=scss&scoped=true&\"","/**\n * Returns an alert-like function that fits current runtime environment\n *\n * This function is amid to solve a electron bug on Windows, that, when\n * user dismissed a browser alert, <input> elements cannot be focused\n * for further editing unless switching to another window and then back\n *\n * @returns { (message:string) => void }\n * Built-in alert function for browser environment\n * A function wrapping {@link dialog.showMessageBoxSync} for electron environment\n *\n * @see {@link https://github.com/electron/electron/issues/19977} for upstream electron issue\n */\nconst nativeAlert = (() => {\n  if (process.env.IS_ELECTRON === true) {\n    const {\n      remote: { dialog },\n    } = require('electron');\n    if (dialog) {\n      return message => {\n        var options = {\n          type: 'warning',\n          detail: message,\n        };\n        dialog.showMessageBoxSync(null, options);\n      };\n    }\n  }\n  return alert;\n})();\n\nexport default nativeAlert;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_vm._m(0),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('login.loginText')))]),_c('div',{staticClass:\"section-2\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'phone'),expression:\"mode === 'phone'\"}],staticClass:\"input-box\"},[_c('div',{staticClass:\"container\",class:{ active: _vm.inputFocus === 'phone' }},[_c('svg-icon',{attrs:{\"icon-class\":\"mobile\"}}),_c('div',{staticClass:\"inputs\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.countryCode),expression:\"countryCode\"}],attrs:{\"id\":\"countryCode\",\"placeholder\":_vm.inputFocus === 'phone' ? '' : _vm.$t('login.countryCode')},domProps:{\"value\":(_vm.countryCode)},on:{\"focus\":function($event){_vm.inputFocus = 'phone'},\"blur\":function($event){_vm.inputFocus = ''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.countryCode=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phoneNumber),expression:\"phoneNumber\"}],attrs:{\"id\":\"phoneNumber\",\"placeholder\":_vm.inputFocus === 'phone' ? '' : _vm.$t('login.phone')},domProps:{\"value\":(_vm.phoneNumber)},on:{\"focus\":function($event){_vm.inputFocus = 'phone'},\"blur\":function($event){_vm.inputFocus = ''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.phoneNumber=$event.target.value}}})])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'email'),expression:\"mode === 'email'\"}],staticClass:\"input-box\"},[_c('div',{staticClass:\"container\",class:{ active: _vm.inputFocus === 'email' }},[_c('svg-icon',{attrs:{\"icon-class\":\"mail\"}}),_c('div',{staticClass:\"inputs\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"id\":\"email\",\"type\":\"email\",\"placeholder\":_vm.inputFocus === 'email' ? '' : _vm.$t('login.email')},domProps:{\"value\":(_vm.email)},on:{\"focus\":function($event){_vm.inputFocus = 'email'},\"blur\":function($event){_vm.inputFocus = ''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})])],1)]),_c('div',{staticClass:\"input-box\"},[_c('div',{staticClass:\"container\",class:{ active: _vm.inputFocus === 'password' }},[_c('svg-icon',{attrs:{\"icon-class\":\"lock\"}}),_c('div',{staticClass:\"inputs\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":_vm.inputFocus === 'password' ? '' : _vm.$t('login.password')},domProps:{\"value\":(_vm.password)},on:{\"focus\":function($event){_vm.inputFocus = 'password'},\"blur\":function($event){_vm.inputFocus = ''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])],1)])]),_c('div',{staticClass:\"confirm\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.processing),expression:\"!processing\"}],on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.$t('login.login'))+\" \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.processing),expression:\"processing\"}],staticClass:\"loading\",attrs:{\"disabled\":\"\"}},[_c('span'),_c('span'),_c('span')])]),_c('div',{staticClass:\"other-login\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'phone'),expression:\"mode === 'phone'\"}],on:{\"click\":function($event){_vm.mode = 'email'}}},[_vm._v(_vm._s(_vm.$t('login.loginWithEmail')))]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'email'),expression:\"mode === 'email'\"}],on:{\"click\":function($event){_vm.mode = 'phone'}}},[_vm._v(_vm._s(_vm.$t('login.loginWithPhone')))])]),_c('div',{staticClass:\"notice\",domProps:{\"innerHTML\":_vm._s(_vm.isElectron ? _vm.$t('login.noticeElectron') : _vm.$t('login.notice'))}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-1\"},[_c('img',{attrs:{\"src\":\"/img/logos/netease-music.png\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div class=\"section-1\">\n      <img src=\"/img/logos/netease-music.png\" />\n    </div>\n    <div class=\"title\">{{ $t('login.loginText') }}</div>\n    <div class=\"section-2\">\n      <div v-show=\"mode === 'phone'\" class=\"input-box\">\n        <div class=\"container\" :class=\"{ active: inputFocus === 'phone' }\">\n          <svg-icon icon-class=\"mobile\" />\n          <div class=\"inputs\">\n            <input\n              id=\"countryCode\"\n              v-model=\"countryCode\"\n              :placeholder=\"\n                inputFocus === 'phone' ? '' : $t('login.countryCode')\n              \"\n              @focus=\"inputFocus = 'phone'\"\n              @blur=\"inputFocus = ''\"\n              @keyup.enter=\"login\"\n            />\n            <input\n              id=\"phoneNumber\"\n              v-model=\"phoneNumber\"\n              :placeholder=\"inputFocus === 'phone' ? '' : $t('login.phone')\"\n              @focus=\"inputFocus = 'phone'\"\n              @blur=\"inputFocus = ''\"\n              @keyup.enter=\"login\"\n            />\n          </div>\n        </div>\n      </div>\n      <div v-show=\"mode === 'email'\" class=\"input-box\">\n        <div class=\"container\" :class=\"{ active: inputFocus === 'email' }\">\n          <svg-icon icon-class=\"mail\" />\n          <div class=\"inputs\">\n            <input\n              id=\"email\"\n              v-model=\"email\"\n              type=\"email\"\n              :placeholder=\"inputFocus === 'email' ? '' : $t('login.email')\"\n              @focus=\"inputFocus = 'email'\"\n              @blur=\"inputFocus = ''\"\n              @keyup.enter=\"login\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"input-box\">\n        <div class=\"container\" :class=\"{ active: inputFocus === 'password' }\">\n          <svg-icon icon-class=\"lock\" />\n          <div class=\"inputs\">\n            <input\n              id=\"password\"\n              v-model=\"password\"\n              type=\"password\"\n              :placeholder=\"\n                inputFocus === 'password' ? '' : $t('login.password')\n              \"\n              @focus=\"inputFocus = 'password'\"\n              @blur=\"inputFocus = ''\"\n              @keyup.enter=\"login\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"confirm\">\n      <button v-show=\"!processing\" @click=\"login\">\n        {{ $t('login.login') }}\n      </button>\n      <button v-show=\"processing\" class=\"loading\" disabled>\n        <span></span>\n        <span></span>\n        <span></span>\n      </button>\n    </div>\n    <div class=\"other-login\">\n      <a v-show=\"mode === 'phone'\" @click=\"mode = 'email'\">{{\n        $t('login.loginWithEmail')\n      }}</a>\n      <a v-show=\"mode === 'email'\" @click=\"mode = 'phone'\">{{\n        $t('login.loginWithPhone')\n      }}</a>\n    </div>\n    <div\n      class=\"notice\"\n      v-html=\"isElectron ? $t('login.noticeElectron') : $t('login.notice')\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport NProgress from 'nprogress';\nimport { loginWithPhone, loginWithEmail } from '@/api/auth';\nimport { setCookies } from '@/utils/auth';\nimport md5 from 'crypto-js/md5';\nimport { mapMutations } from 'vuex';\nimport nativeAlert from '@/utils/nativeAlert';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      processing: false,\n      mode: 'email',\n      countryCode: '+86',\n      phoneNumber: '',\n      email: '',\n      password: '',\n      smsCode: '',\n      inputFocus: '',\n    };\n  },\n  computed: {\n    isElectron() {\n      return process.env.IS_ELECTRON;\n    },\n  },\n  created() {\n    if (this.$route.query.mode === 'phone') {\n      this.mode = 'phone';\n    }\n    NProgress.done();\n  },\n  methods: {\n    ...mapMutations(['updateData']),\n    validatePhone() {\n      if (\n        this.countryCode === '' ||\n        this.phone === '' ||\n        this.password === ''\n      ) {\n        nativeAlert('国家区号或手机号不正确');\n        this.processing = false;\n        return false;\n      }\n      return true;\n    },\n    validateEmail() {\n      const emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if (\n        this.email === '' ||\n        this.password === '' ||\n        !emailReg.test(this.email)\n      ) {\n        nativeAlert('邮箱不正确');\n        return false;\n      }\n      return true;\n    },\n    login() {\n      if (this.mode === 'phone') {\n        this.processing = this.validatePhone();\n        if (!this.processing) return;\n        loginWithPhone({\n          countrycode: this.countryCode.replace('+', '').replace(/\\s/g, ''),\n          phone: this.phoneNumber.replace(/\\s/g, ''),\n          password: 'fakePassword',\n          md5_password: md5(this.password).toString(),\n        })\n          .then(this.handleLoginResponse)\n          .catch(error => {\n            this.processing = false;\n            nativeAlert(`发生错误，请检查你的账号密码是否正确\\n${error}`);\n          });\n      } else {\n        this.processing = this.validateEmail();\n        if (!this.processing) return;\n        loginWithEmail({\n          email: this.email.replace(/\\s/g, ''),\n          password: 'fakePassword',\n          md5_password: md5(this.password).toString(),\n        })\n          .then(this.handleLoginResponse)\n          .catch(error => {\n            this.processing = false;\n            nativeAlert(`发生错误，请检查你的账号密码是否正确\\n${error}`);\n          });\n      }\n    },\n    handleLoginResponse(data) {\n      if (!data) {\n        this.processing = false;\n        return;\n      }\n      if (data.code === 200) {\n        setCookies(data.cookie);\n        this.updateData({ key: 'user', value: data.profile });\n        this.updateData({ key: 'loginMode', value: 'account' });\n        this.$store.dispatch('fetchLikedPlaylist').then(() => {\n          this.$router.push({ path: '/library' });\n        });\n      } else {\n        this.processing = false;\n        nativeAlert(data.msg ?? data.message ?? '账号或密码错误，请检查');\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: calc(100vh - 192px);\n}\n\n.title {\n  font-size: 24px;\n  font-weight: 700;\n  margin-bottom: 48px;\n  color: var(--color-text);\n}\n\n.section-1 {\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  img {\n    height: 64px;\n    margin: 20px;\n  }\n}\n\n.section-2 {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n\n.input-box {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 16px;\n  color: var(--color-text);\n\n  .container {\n    display: flex;\n    align-items: center;\n    height: 46px;\n    background: var(--color-secondary-bg);\n    border-radius: 8px;\n    width: 300px;\n  }\n\n  .svg-icon {\n    height: 18px;\n    width: 18px;\n    color: #aaaaaa;\n    margin: {\n      left: 12px;\n      right: 6px;\n    }\n  }\n\n  .inputs {\n    display: flex;\n    width: 85%;\n  }\n\n  input {\n    font-size: 20px;\n    border: none;\n    background: transparent;\n    width: 100%;\n    font-weight: 600;\n    margin-top: -1px;\n    color: var(--color-text);\n  }\n\n  input::placeholder {\n    color: var(--color-text);\n    opacity: 0.38;\n  }\n\n  input#countryCode {\n    flex: 3;\n  }\n  input#phoneNumber {\n    flex: 12;\n  }\n\n  .active {\n    background: var(--color-primary-bg);\n    input,\n    .svg-icon {\n      color: var(--color-primary);\n    }\n  }\n}\n\n.confirm button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  font-weight: 600;\n  background-color: var(--color-primary-bg);\n  color: var(--color-primary);\n  border-radius: 8px;\n  margin-top: 24px;\n  transition: 0.2s;\n  padding: 8px;\n  width: 100%;\n  width: 300px;\n  &:hover {\n    transform: scale(1.06);\n  }\n  &:active {\n    transform: scale(0.94);\n  }\n}\n\n.other-login {\n  margin-top: 24px;\n  a {\n    cursor: pointer;\n    font-size: 13px;\n    color: var(--color-text);\n    opacity: 0.68;\n  }\n}\n\n.notice {\n  width: 300px;\n  border-top: 1px solid rgba(128, 128, 128);\n  margin-top: 48px;\n  padding-top: 12px;\n  font-size: 12px;\n  color: var(--color-text);\n  opacity: 0.48;\n}\n\n@keyframes loading {\n  0% {\n    opacity: 0.2;\n  }\n  20% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.2;\n  }\n}\n\nbutton.loading {\n  height: 44px;\n  cursor: unset;\n  &:hover {\n    transform: none;\n  }\n}\n.loading span {\n  width: 6px;\n  height: 6px;\n  background-color: var(--color-primary);\n  border-radius: 50%;\n  margin: 0 2px;\n  animation: loading 1.4s infinite both;\n}\n\n.loading span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.loading span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginAccount.vue?vue&type=template&id=69670749&scoped=true&\"\nimport script from \"./loginAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./loginAccount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginAccount.vue?vue&type=style&index=0&id=69670749&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69670749\",\n  null\n  \n)\n\nexport default component.exports","const fs = require('fs');\nconst path = require('path');\n\nconst pathFile = path.join(__dirname, 'path.txt');\n\nfunction getElectronPath () {\n  if (fs.existsSync(pathFile)) {\n    const executablePath = fs.readFileSync(pathFile, 'utf-8');\n    if (process.env.ELECTRON_OVERRIDE_DIST_PATH) {\n      return path.join(process.env.ELECTRON_OVERRIDE_DIST_PATH, executablePath);\n    }\n    return path.join(__dirname, 'dist', executablePath);\n  } else {\n    throw new Error('Electron failed to install correctly, please delete node_modules/electron and try installing again');\n  }\n}\n\nmodule.exports = getElectronPath();\n"],"sourceRoot":""}